<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.smartmeeting.frontend.MainController" prefHeight="720.0" prefWidth="1280.0">

    <!-- Barra Superior -->
    <top>
        <HBox fx:id="headerBar" alignment="CENTER_LEFT" spacing="20" styleClass="top-bar">
            <padding>
                <Insets left="20" right="20" top="15" bottom="15"/>
            </padding>
            <Label fx:id="currentViewTitle" text="Dashboard" styleClass="h2-header-title" /> <!-- Novo título dinâmico -->
            <Pane HBox.hgrow="ALWAYS" /> <!-- Empurra elementos para a direita -->
            <Label fx:id="welcomeLabel" text="Bem-vindo, Usuário!" styleClass="welcome-label" />
            <Button fx:id="notificationsButton" styleClass="icon-button"/>
            <Button fx:id="logoutButton" onAction="#handleLogoutButtonAction" text="Sair" styleClass="logout-button"/>
        </HBox>
    </top>

    <!-- Barra Lateral de Navegação -->
    <left>
        <VBox alignment="TOP_CENTER" spacing="10" styleClass="left-panel" prefWidth="220">
            <padding>
                <Insets top="20"/>
            </padding>
            <!-- ADICIONADO: Título da marca no painel esquerdo -->
            <Label text="SmartMeeting" styleClass="brand-title" />
            <Button fx:id="dashboardButton" text="Dashboard" styleClass="nav-button" maxWidth="Infinity"/>
            <Button fx:id="reunioesButton" text="Reuniões" styleClass="nav-button" maxWidth="Infinity"/>
            <Button fx:id="tarefasButton" text="Tarefas" styleClass="nav-button" maxWidth="Infinity"/>
            <Button fx:id="salasButton" text="Salas" styleClass="nav-button" maxWidth="Infinity"/>
            <Button fx:id="pessoasButton" text="Pessoas" styleClass="nav-button" maxWidth="Infinity"/>
            <Button fx:id="relatoriosButton" text="Relatórios" styleClass="nav-button" maxWidth="Infinity"/>
            <Pane VBox.vgrow="ALWAYS" />
            <Button fx:id="configuracoesButton" text="Configurações" styleClass="nav-button" maxWidth="Infinity"/>
        </VBox>
    </left>

    <!-- Área de Conteúdo Principal -->
    <center>
        <StackPane fx:id="contentArea" styleClass="right-panel"> <!-- Adicionado StackPane com fx:id e styleClass -->
            <ScrollPane fitToWidth="true" styleClass="scroll-pane">
                <VBox styleClass="dashboard-content-vbox"> <!-- Removido right-panel daqui -->
                    <Label text="Dashboard" styleClass="h1"/>

                    <!-- Cards de Estatísticas -->
                    <HBox alignment="CENTER" spacing="20">
                        <fx:include fx:id="reunioesHojeCard" source="components/StatCard.fxml" />
                        <fx:include fx:id="tarefasPendentesCard" source="components/StatCard.fxml" />
                        <fx:include fx:id="reunioesSemanaCard" source="components/StatCard.fxml" />
                        <fx:include fx:id="taxaConclusaoCard" source="components/StatCard.fxml" />
                    </HBox>

                    <!-- Próximas Reuniões -->
                    <VBox spacing="10" styleClass="reunioes-list-container">
                        <Label text="Próximas Reuniões" styleClass="h3"/>
                        <ListView fx:id="reunioesListView" prefHeight="200"/>
                    </VBox>

                    <!-- Gráficos -->
                    <HBox spacing="20" alignment="CENTER">
                        <!-- Placeholder para Gráfico de Produtividade -->
                        <VBox alignment="CENTER" styleClass="chart-container" HBox.hgrow="ALWAYS">
                            <Label text="Produtividade por Participante" styleClass="h3"/>
                            <!-- TODO: Adicionar Gráfico de Barras -->
                        </VBox>
                        <!-- Placeholder para Gráfico de Ocupação de Salas -->
                        <VBox alignment="CENTER" styleClass="chart-container" HBox.hgrow="ALWAYS">
                            <Label text="Ocupação de Salas" styleClass="h3"/>
                            <!-- TODO: Adicionar Gráfico de Pizza -->
                        </VBox>
                    </HBox>

                </VBox>
            </ScrollPane>
        </StackPane>
    </center>

</BorderPane>
